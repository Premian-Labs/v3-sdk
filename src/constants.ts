import { DefaultOptions } from '@apollo/client/core'
import { parseBigInt } from './utils'

export enum SupportedChainId {
	// Testnet,
	GOERLI = 5,
	ARBITRUM_GOERLI = 421613,
	HARDHAT = 31337,

	ARBITRUM = 42161,
	ARBITRUM_NOVA = 42170,
}

export enum CacheTTL {
	DAILY = 86400,
	HOURLY = 3600,
	MINUTE = 60,
	SECOND = 1,
}

export const WAD_DECIMALS = 18n
export const USD_DECIMALS = 18n
export const ETH_DECIMALS = 18n

export const MIN_TICK_DISTANCE = parseBigInt('0.001')
export const MIN_TICK_PRICE = parseBigInt('0.001')
export const MAX_TICK_PRICE = parseBigInt('1')

export const WAD_BI = parseBigInt('1')
export const ONE_BI = 1n
export const ZERO_BI = 0n

export const CHAINLINK_BTC = '0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB'
export const CHAINLINK_ETH = '0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE'
export const CHAINLINK_USD = '0x0000000000000000000000000000000000000348'

export interface AddressMap {
	[chainId: number]: {
		[contractName: string]: string
	}
}

export const Addresses: AddressMap = {
	[SupportedChainId.ARBITRUM]: {
		CHAINLINK_BTC,
		CHAINLINK_ETH,
		CHAINLINK_USD,
		WETH: '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1',
		PREMIA: '0x51fC0f6660482Ea73330E414eFd7808811a57Fa2',
		USDC: '0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8',
		VAULT_REGISTRY: '0x1F98431c8aD98523631AE4a59f267346ea31F984',
		VX_PREMIA: '0x3992690E5405b69d50812470B0250c878bFA9322',
	},

	[SupportedChainId.ARBITRUM_NOVA]: {
		CHAINLINK_BTC,
		CHAINLINK_ETH,
		CHAINLINK_USD,
		ORDERBOOK: '0x7BAa39B8C2197B4C859D942F33AD2Fe6fe3050eE',
	},
	[SupportedChainId.GOERLI]: {
		CHAINLINK_BTC,
		CHAINLINK_ETH,
		CHAINLINK_USD,
		ERC20ROUTER: '0x15547399A5Bfe5D751d359b52535BCBFaF0BDa54',
		TEST_WETH: '0xC2ECb8563800B523426c3328EeC1F7771D433C9c',
		WETH: '0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6',
		PREMIA: '0x9f5D1212514Ac88E26c523387C60F87B67AD1130',
		USDC: '0x16fA8D635311fc4DA9A2f8793EE016670b0C6Ed2',
		POOL_FACTORY: '0x840aCE9902d3CDe50d9c57ce8E2F324e165CfC66',
		ORDERBOOK: '0x54716D4cd0cC91737D858F0FBa8BE1cAFcC8C363',
		UNISWAP_CHAINLINK_ORACLE_ADAPTER: '',
		CHAINLINK_ORACLE_ADAPTER: '0x62Bc6a93726413f924b2aaD110283FCE8E30339E',
		UNISWAP_ORACLE_ADAPTER: '0x609f59798095874c2Ed0c01F97AF56A1ff65748B',
		DEFAULT_REFERRER: '0x589155f2F38B877D7Ac3C1AcAa2E42Ec8a9bb709',
		ERC20_ROUTER: '0x15547399A5Bfe5D751d359b52535BCBFaF0BDa54',
		USER_SETTINGS: '0xEDBC1B7e22bAf0Efc5Ed1A8a05d24014aA97BEC0',
		VAULT_REGISTRY: '0xBB7599c4772c75B908Efe35525b168f252a24505',
		VOLATILITY_ORACLE: '0x4DeE5A6cAefafc8cF6698A8Afe6e30BF7D1538e2',
	},
	[SupportedChainId.ARBITRUM_GOERLI]: {
		CHAINLINK_BTC,
		CHAINLINK_ETH,
		CHAINLINK_USD,
		TEST_WETH: '0x80c79fe19E25b34a7677c9B6b1A2801caBfAC985',
		WETH: '0x7F5bc2250ea57d8ca932898297b1FF9aE1a04999',
		WBTC: '0x9f5D1212514Ac88E26c523387C60F87B67AD1130',
		PREMIA: '0xE9E4B8E6B9Af579be3025B7f09d84375E98A0064',
		USDC: '0x53421DB1f41368E028A4239954feB5033C7B3729',
		POOL_FACTORY: '0x31eC5598e786dbA4E1Fb7263016c3ff58Cb3c6b6',
		ORDERBOOK: '0x34C9B11475C195A69A581ED94f5e640b591c485A',
		UNISWAP_CHAINLINK_ORACLE_ADAPTER: '',
		CHAINLINK_ORACLE_ADAPTER: '0xDc0405ed974AD4cA7f18eE395De627c2C467B1b5',
		UNISWAP_ORACLE_ADAPTER: '',
		DEFAULT_REFERRER: '0x589155f2F38B877D7Ac3C1AcAa2E42Ec8a9bb709',
		ERC20_ROUTER: '0x0Aa81977BC19A11abe7eC61016A629f989b85513',
		USER_SETTINGS: '0x5063746c2F2d85813bD6e23bA1da4BA2621E1c62',
		VAULT_REGISTRY: '0xb47aA1233E645D2Eb15C61069D4f94C61CE8dED4',
		VOLATILITY_ORACLE: '0x7C827F01E5172E276d9A56E5B7B13D46fC01ddAC',
		VX_PREMIA: '0x85E9b6B7915f9B259Ba0C54AEF2818F278c284d8',
	},
	[SupportedChainId.HARDHAT]: {
		CHAINLINK_BTC,
		CHAINLINK_ETH,
		CHAINLINK_USD,
		WETH: '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1',
		PREMIA: '0x51fC0f6660482Ea73330E414eFd7808811a57Fa2',
		USDC: '0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8',
		VAULT_REGISTRY: '0x1F98431c8aD98523631AE4a59f267346ea31F984',
	},
}

export const DefaultApolloClientOptions: DefaultOptions = {
	watchQuery: {
		fetchPolicy: 'no-cache',
	},
	query: {
		fetchPolicy: 'no-cache',
		errorPolicy: 'all',
	},
}
